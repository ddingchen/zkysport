var gundong_1;//时间轮1var gundong_2;//时间轮2var gundong_3;//时间轮3var time_X = 0;//时间选择判定,如果有时间选择,PHP输出1,没有写0var xx;//场地类型参数,羽毛球1,乒乓球2,篮球3,足球4var input1 = 0;var input2 = 0;var x_d;$(function () {    var mydate = new Date();    var riqi = "" + mydate.getFullYear() + "-";    var Month = mydate.getMonth() + 1;    if (Month < 10) {        Month = '0' + Month;    }    riqi += Month + "-";    var riqi1 = riqi + mydate.getDate();    var riqi2 = riqi + (mydate.getDate() + 1);    var riqi3 = riqi + (mydate.getDate() + 2);    $("#gundong1 ul li:nth-child(3)").attr("data-id", riqi1);    $("#gundong1 ul li:nth-child(4)").attr("data-id", riqi2);    $("#gundong1 ul li:nth-child(5)").attr("data-id", riqi3);    $("li").css({"font-size": "3.6rem"});    xx = $("#leixing").val();    panduan();    gaodu();    $("#kongbai").hide();    $(".gunlun").hide();    /*$('#input1').on("touchstart", function () {     if (input1 == 0) {     $('#input1').val("");     $('#input1').css("color", "#707072");     input1 = 1;     }     });     $('#input2').on("touchstart", function () {     if (input2 == 0) {     $('#input2').val("");     $('#input2').css("color", "#707072");     input2 = 1;     }     });*/    $("#number").blur(function () {        n = $("#number").val();        if (n >= 99) {            n = 99;        } else if (n < 1) {            n = 1;        }        $("#number").val(n);    });    $('.time').on("touchstart", function () {        //shijian();        $("#kongbai").show();        $(".gunlun").show();        shijian();    });    $('.gunlun_quxiao').on("touchstart", function () {        $(".gunlun").hide();        $("#kongbai").hide("slow");    });    $('.gunlun_queren').on("touchstart", function () {//收集时间数据        var time1 = gundong_2.currPageY;        var time2 = gundong_3.currPageY;        if (time1 > time2) {            alert('请正确选择预约时间');        } else {            zzz();            $(".gunlun").hide();            $("#day").html(x);            $("#time1").html(y);            $("#time2").html(z);            time_X = 1;            $("#kongbai").hide("slow");        }    });    $});//页面各种判断function panduan() {    //运动类型判断    xx = parseInt(xx);    switch (xx) {        case 1:            $("#renshu").hide();            var xm = '<div class="cgyd2 div_h"><img src="img/Badminton.png">羽毛球</div>';            break;        case 2:            pingpangqiu();            var xm = '<div class="cgyd2 div_h"><img src="img/Table%20tennis.png">乒乓球</div>';            break;        case 3:            lanqiu();            $("#renshu").hide();            var xm = '<div class="cgyd2 div_h"><img src="img/basketball.png">篮球</div>';            break;        case 4:            $("#renshu").hide();            var xm = '<div class="cgyd2 div_h"><img src="img/football.png">足球</div>';            break;    }    $("#xiangmu").html(xm);    //姓名电话判断    /*var input1_x = $('#input1').val();     var input2_x = $('#input2').val();     if (input1_x && input1_x !== "预约人姓名") {     $('#input1').css("color", "#707072");     input1=1;     }     if (input2_x && input2_x !== "预约电话") {     $('#input2').css("color", "#707072");     input2=1;     }*/    //时间判断    x = $("#xxx").val();    y = $("#yyy").val();    z = $("#zzz").val();    if (x) {        var today = new Date();        today.setHours(8);        today.setMinutes(0);        today.setSeconds(0);        today.setMilliseconds(0);        var Date_x = new Date(x);        var x_day = (Date_x - today)/86400000;        switch (x_day) {            case 0:                $("#day").html('今天');                break;            case 1:                $("#day").html('明天');                break;            case 1:                $("#day").html('后天');                break;        }    }    if (y) {        $("#time1").html(y);    }    if (z) {        $("#time2").html(z);    }    if (x && y && z) {        time_X = 1;    }    //场地号判断    var selectedAreaIdJson = $("#changdi").val();    if(selectedAreaIdJson) {         var areaDict = $.parseJSON($('#areaSelectsJson').val());         var selectedAreaNames = [];         var selectedAreaIdArray = $.parseJSON(selectedAreaIdJson);        for(var index in selectedAreaIdArray){            var areaId = selectedAreaIdArray[index];            selectedAreaNames.push(areaDict[xx][areaId]);        }        $("#changdi_haoma").html(selectedAreaNames.toString());    }}//页面各高度自适应function gaodu() {    var width = $(window).width();    var bili = 1 / 750 * width;//页面比例    var ziti = 10 * bili;//字体自适应参数    var xian = 4 * bili;//边框    $("html").css("font-size", ziti + "px");    $(".gekai").css("margin-left", '6.5%');    $(".xian").css("width", '100%');}//项目类型选择function load() {    $(".cgyd2_xm").on("touchstart", function () {        var leixing = $(this).attr("data-id");        leixin(leixing);        var xm = '<div class="cgyd2 div_h">' + $(this).html() + '</div>';        $("#xiangmu").html(xm);        $("#kongbai").hide("slow");    });}//项目类型选择function pingpangqiu() {    $("#gundong1 ul li:nth-child(3)").html('明天');    $("#gundong1 ul li:nth-child(4)").html('后天');    $("#gundong1 ul li:nth-child(5)").html('');    $("#gundong1 ul li:nth-child(7)").remove();    var mydate = new Date();    var riqi = "" + mydate.getFullYear() + "-";    var Month = mydate.getMonth() + 1;    if (Month < 10) {        Month = '0' + Month;    }    riqi += Month + "-";    var riqi1 = riqi + mydate.getDate();    var riqi2 = riqi + (mydate.getDate() + 1);    var riqi3 = riqi + (mydate.getDate() + 2);    $("#gundong1 ul li:nth-child(3)").attr("data-id", riqi2);    $("#gundong1 ul li:nth-child(4)").attr("data-id", riqi3);    $("#gundong1 ul li:nth-child(5)").attr("data-id", '');    $('#day').html("明天");}function lanqiu() {    $("#gundong2").hide();    $("#gundong3").hide();    $("#time1").hide();    $("#time2").hide();    $("#time_x").hide();    $("#gundong1").css({'width': '100%', 'margin': '0'});    $("#gundong1 ul li:nth-child(3)").html('明天');    $("#gundong1 ul li:nth-child(4)").html('后天');    $("#gundong1 ul li:nth-child(5)").html('');    $("#gundong1 ul li:nth-child(7)").remove();    var mydate = new Date();    var riqi = "" + mydate.getFullYear() + "-";    var Month = mydate.getMonth() + 1;    if (Month < 10) {        Month = '0' + Month;    }    riqi += Month + "-";    var riqi1 = riqi + mydate.getDate();    var riqi2 = riqi + (mydate.getDate() + 1);    var riqi3 = riqi + (mydate.getDate() + 2);    $("#gundong1 ul li:nth-child(3)").attr("data-id", riqi2);    $("#gundong1 ul li:nth-child(4)").attr("data-id", riqi3);    $("#gundong1 ul li:nth-child(5)").attr("data-id", '');    time_X=1;    $('#day').html("明天");    $('#xxx').html("riqi2");}function leixin(i) {    i = parseInt(i);    switch (i) {        case 1:            $("#renshu").hide();            xx = 1;            break;        case 2:            pingpangqiu();            xx = 2;            break;        case 3:            lanqiu();            $("#renshu").hide();            xx = 3;            break;        case 4:            $("#renshu").hide();            xx = 4;            break;    }    $("#leixing").val(xx);}//人数选择function num(m) {    var n = parseInt($("#number").val());    n = n + m;    if (n >= 99) {        n = 99;    } else if (n < 1) {        n = 1;    }    $("#number").val(n);}//时间滚轮function shijian() {    gundong_1 = new iScroll("gundong1", {        snap: "li",        momentum: true,        hScrollbar: false,        vScrollbar: false,        bounce: false, //是否超过实际位置反弹        wheelAction: 'scroll', //鼠标滚动行为（还可以是zoom）        hScroll: false, //是否水平滚动        onTouchEnd: function () {            zzz();        }, //在滚动完成后的回调    });    gundong_2 = new iScroll("gundong2", {        snap: "li",        momentum: true,        hScrollbar: false,        vScrollbar: false,        hScroll: false, //是否水平滚动        bounce: false, //是否超过实际位置反弹        wheelAction: 'scroll', //鼠标滚动行为（还可以是zoom）        onTouchEnd: function () {            zzz();        }, //在滚动完成后的回调    });    gundong_3 = new iScroll("gundong3", {        snap: "li",        momentum: true,        hScrollbar: false,        vScrollbar: false,        hScroll: false, //是否水平滚动        bounce: false, //是否超过实际位置反弹        wheelAction: 'scroll', //鼠标滚动行为（还可以是zoom）        onTouchEnd: function () {            zzz();        }, //在滚动完成后的回调    });}function zzz() {    x = gundong_1.currPageY;    y = gundong_2.currPageY;    z = gundong_3.currPageY;    if (x >= 3) {        x = 3;    }    x += 3;    if (y >= 19) {        y = 19;    }    y += 3;    if (z >= 19) {        z = 19;    }    z += 3;    x_d = $("#gundong1 ul li:nth-child(" + x + ")").attr("data-id");    x = $("#gundong1 ul li:nth-child(" + x + ")").html();    y = $("#gundong2 ul li:nth-child(" + y + ")").html();    z = $("#gundong3 ul li:nth-child(" + z + ")").html();    $("#xxx").val(x_d);    $("#yyy").val(y);    $("#zzz").val(z);}//场地类型选择器function xzcd() {    if (time_X == 1) {        var input1_x = $("#input1").val();        var input2_x = $("#input2").val();        if (input1_x && input2_x /*&& input1_x !== "预约人姓名" && input2_x !== "预约电话"*/) {            xx = parseInt(xx);            //====================================================================================            //alert(xx);            switch (xx) {                case 1:                case 2:                    location.href = "sport/" + xx + "/area?" + $('form').serialize();                    break;                case 3:                    $("#changdi3").show();                    $("#kongbai").show();                    break;                case 4:                    $("#changdi4").show();                    $("#kongbai").show();                    break;            }        } else {            alert("请正确填写用户信息");        }    } else {        alert("请选择预定时间");    }}//场地选择(足球篮球)$(function () {    $(".changdi div").on("touchstart", function () {        var cd = $(this).attr("data-id");        var cd2 = $(this).html();        if (cd) {            $("#changdi").val('["'+cd+'"]');            $("#changdi_haoma").html(cd2);        }        $(".changdi").hide();        $("#kongbai").hide("slow");    });});